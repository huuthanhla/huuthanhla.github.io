const Validator=e=>{let r={};const t=document.querySelector(e.form),o=(e,r)=>{for(;e.parentElement;){if(e.parentElement.matches(r))return e.parentElement;e=e.parentElement}},s=(s,a)=>{const l=o(s,e.formGroupSelector).querySelector(e.errorSelector),n=r[a.selector];let c;for(let e=0;e<n.length;e++){switch(s.type){case"radio":case"checkbox":c=t.querySelector(a.selector+":checked")?n[e](t.querySelector(a.selector+":checked").value):n[e]("");break;default:c=n[e](s.value)}if(c)break}return c?(l.innerText=c,o(s,e.formGroupSelector).classList.add(e.classError)):(l.innerText="",o(s,e.formGroupSelector).classList.remove(e.classError)),!c};if(t){const a=e.rules;a.forEach(a=>{Array.isArray(r[a.selector])?r[a.selector].push(a.testing):r[a.selector]=[a.testing];const l=t.querySelectorAll(a.selector);Array.from(l).forEach(r=>{r&&(r.onblur=(()=>{s(r,a)}),r.oninput=(()=>{o(r,e.formGroupSelector).querySelector(e.errorSelector).innerText="",o(r,e.formGroupSelector).classList.remove(e.classError)}))})}),t.onsubmit=(r=>{r.preventDefault();let o=!0;if(a.forEach(e=>{const r=t.querySelector(e.selector);s(r,e)||(o=!1)}),o)if("function"==typeof e.onSubmit){const r=t.querySelectorAll("[name]"),o=Array.from(r).reduce((e,r)=>{switch(r.type){case"radio":e[r.name]=t.querySelector('input[name="'+r.name+'"]:checked').value;break;case"checkbox":if(!r.matches(":checked"))return e[r.name]="",e;Array.isArray(e[r.name])||(e[r.name]=[]),e[r.name].push(r.value);break;case"file":e[r.name]=r.file;break;default:e[r.name]=r.value}return e},{});e.onSubmit(o)}else t.submit()})}};Validator.isRequired=((e,r)=>({selector:e,testing:e=>e.trim()?void 0:r||"Please enter this field."})),Validator.isEmail=function(e,r){return{selector:e,testing:e=>{return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)?void 0:r||"Invalid email."}}},Validator.isMinLength=((e,r=6,t)=>({selector:e,testing:e=>e.length>=r?void 0:t||`Please enter at least ${r} characters.`})),Validator.isConfirmed=((e,r,t)=>({selector:e,testing:e=>e===r()?void 0:t||"The password does not match."})),Validator.isPhone=((e,r)=>({selector:e,testing:e=>{return/(03|07|08|09|01[2|6|8|9])+([0-9]{8})\b/.test(e)?void 0:r||"Invalid phone number."}})),Validator.isNumber=((e,r)=>({selector:e,testing:e=>{return/^[0-9]+$/.test(e)?void 0:r||"This field can only be entered numeric characters."}})),Validator.isText=((e,r)=>({selector:e,testing:e=>{return/^([a-zA-ZÀÁÂÃÈÉÊÌÍÒÓÔÕÙÚĂĐĨŨƠàáâãèéêìíòóôõùúăđĩũơƯĂẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼỀỀỂưăạảấầẩẫậắằẳẵặẹẻẽềềểỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪễệỉịọỏốồổỗộớờởỡợụủứừỬỮỰỲỴÝỶỸửữựỳỵỷỹ\s]+)$/i.test(e)?void 0:r||"This field can only be entered text."}}));